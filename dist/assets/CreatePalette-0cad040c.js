import{r as l,l as _,_ as S,j as e,L as d,u as T,b as H,a as L,o as E,p as M,q as F}from"./index-6bd8cebf.js";import{H as A,R as $}from"./HSVtoRGB-88920adb.js";const D=_(()=>S(()=>import("./PickerPanel-a28d4e9f.js"),["assets/PickerPanel-a28d4e9f.js","assets/index-6bd8cebf.js","assets/index-4ae2895e.css","assets/HSVtoRGB-88920adb.js"]),{fallback:e.jsx(d,{})}),W=({onClose:n,setColorPalette:s,isColorPalette:c})=>e.jsx(l.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(D,{onClose:n,setColorPalette:s,isColorPalette:c,onUpdate:!1})}),I=()=>{const{state:n}=T(),{user:s,useAppDispatch:c,axiosJWT:x}=H();L();const[u,g]=l.useState("");l.useRef(null),l.useState([]);const[a,j]=l.useState([]);l.useState(0);const[v,h]=l.useState(!1),[m,f]=l.useState(!1),C=()=>{h(!0)},k=()=>{h(!1)},w=t=>{navigator.clipboard.writeText(t)};let N=Math.random();const P=()=>{var o,i;f(!0);const t={name:u,idUser:(o=s==null?void 0:s.user)==null?void 0:o.id,idCollection:(i=n.isLoadPalette.collection)==null?void 0:i._id,color:a,pin:!1};M(t,s==null?void 0:s.accessToken,x,c).then(()=>{var r;F((r=n.isLoadPalette.collection)==null?void 0:r._id,s==null?void 0:s.accessToken,x,c),f(!1)})};l.useRef(null);const y=a.length<5&&e.jsx("div",{className:"flex flex-col relative justify-center items-center bg-white/30 dark:bg-white/30",style:{flex:1},children:e.jsx("div",{className:"flex flex-col justify-center items-center  w-full h-full absolute",children:e.jsx("button",{className:"w-full h-full",onClick:C,children:e.jsx("i",{className:"fa-solid fa-plus"})})})}),R=t=>{var r;const o=/^#[0-9a-fA-F]{6}$/,i=/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/;if(o.test(t)){const b=new A(t).convertToRGB();return e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"group-hover:block group-focus:block hidden mx-1 text-center",children:["hex ",e.jsx("br",{}),t]}),e.jsxs("span",{className:"group-hover:block group-focus:block hidden mx-1 text-center",children:["rgb",e.jsx("br",{}),"(",b,")"]})]})}if(i.test(t)){const p=(r=t.match(/\(([^)]+)\)/))==null?void 0:r[1],G=new $(p).RGBtoHex();return e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"group-hover:block group-focus:block hidden mx-1 text-center",children:t}),e.jsxs("span",{className:"group-hover:block group-focus:block hidden mx-1 text-center",children:["hex",e.jsx("br",{}),G]})]})}},B=a==null?void 0:a.map((t,o)=>e.jsx("div",{className:"group flex flex-col justify-between items-center w-full h-full",style:{background:t,flex:1,color:E(t)},onClick:()=>w(t),children:R(t)},o+N));return e.jsxs(e.Fragment,{children:[v&&e.jsx(W,{onClose:k,setColorPalette:j,isColorPalette:a}),m&&e.jsx(d,{}),e.jsxs("div",{className:"py-5",children:[e.jsx("div",{className:"text-md py-1",children:"Color"}),e.jsx("div",{className:"flex flex-col h-64 rounded-xl ",children:e.jsx("div",{className:"w-full h-56 bg-white/30 my-5 rounded-xl flex justify-center items-center",children:e.jsxs("div",{className:"flex ring-2 rounded-lg overflow-hidden ring-white/0 h-full flex-auto w-[15rem]",children:[B,y]})})}),e.jsx("div",{className:"text-md pb-5",children:"Name"}),e.jsx("div",{className:"w-full empty:before:content-[attr(placeholder)] empty:before:text-gray-600 bg-white/60 dark:bg-white/30 rounded-lg focus-visible:outline-none px-4 py-2 caret-greatBlue cursor-text",contentEditable:!0,suppressContentEditableWarning:!0,placeholder:"Write your palette name here",role:"textbox","data-lexical-editor":"true","aria-multiline":"true",autoFocus:!0,onInput:t=>g(t.currentTarget.textContent)})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"h-10 w-fit px-5 text-white bg-gradient-to-br from-lightPurple to-greatBlue hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-white dark:focus:ring-greatblue font-medium rounded-full text-xs sm:text-sm md:text-sm lg:text-sm xl:text-sm 2xl:text-sm text-center",type:"button",disabled:!u||!a||m,onClick:P,children:"Create"})})]})},q=l.memo(I);export{q as default};
