import{r as s,t as re,j as e}from"./index-453d9d77.js";import{H as U,P as V,R as se,C as q}from"./HSVtoRGB-88920adb.js";let S=document.getElementById("panel-root");if(!S){const d=document.createElement("div");d.id="panel-root",document.body.appendChild(d),S=d}const ce=({onClose:d,setColorPalette:T,isColorPalette:J,onUpdate:K})=>{const[u,X]=s.useState("RGB"),[I,$]=s.useState(""),[M,k]=s.useState("255, 255, 255"),[x,j]=s.useState(255),[f,C]=s.useState(255),[h,y]=s.useState(255),[W,D]=s.useState(0),[Y,H]=s.useState(!1),E=s.useRef(null),v=s.useRef(null),A=s.useRef(null),G=s.useRef(null),N=s.useRef(null),L=async t=>{const o=t.currentTarget,{left:n,top:l,width:m,height:i}=o.getBoundingClientRect(),b=t.clientX-n,c=t.clientY-l,a=parseFloat((b/m).toFixed(2)),p=parseFloat(((i-c)/i).toFixed(2)),r=new q(W,a,p).HSVtoRGB();await k(`${r.r},${r.g},${r.b}`),await j(r.r),await C(r.g),await y(r.b),v.current.style.left=`${b}px`,v.current.style.top=`${c}px`},w=async t=>{const o=/(\d+), (\d+), (\d+)/,n=t.match(o),l=parseInt(n[1]),m=parseInt(n[2]),i=parseInt(n[3]),c=new V(l,m,i).rgbToHsv();let a=v.current,p=E.current,P=A.current,r=G.current;const{width:R,height:z}=p.getBoundingClientRect(),{height:B}=P.getBoundingClientRect(),g=parseFloat((R*c.s).toFixed(2)),F=parseFloat((z*(1-c.v)).toFixed(2)),te=parseFloat((B/360*c.h*360).toFixed(2));D(c.h),k(t),j(l),C(m),y(i),p.style.backgroundColor=`rgb(${l}, ${m}, ${i})`,Math.round(g)===Math.round(R)?a.style.left=g-15+"px":a.style.left=g+"px",a.style.top=F+"px",r.style.top=te+"px"},O=t=>{const o=t.currentTarget,n=v.current,l=E.current,{top:m,height:i}=o.getBoundingClientRect(),{width:b,height:c}=l.getBoundingClientRect(),a=t.clientY-m,p=parseFloat((a/i).toFixed(2));G.current.style.top=`${a}px`;const r=new q(p,1,1).HSVtoRGB();l.style.backgroundColor=`rgb(${r.r},${r.g},${r.b})`,D(p),j(r.r),C(r.g),y(r.b);const R=`${r.r},${r.g},${r.b}`;k(R);const B=new V(r.r,r.g,r.b).rgbToHsv(),g=parseFloat((b*B.s).toFixed(2)),F=parseFloat((c*(1-B.v)).toFixed(2));Math.round(g)===Math.round(b)?n.style.left=g-15+"px":n.style.left=g+"px",n.style.top=F+"px"},Q=new se(M).RGBtoHex(),Z=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"absolute top-14 w-fit px-4 h-fit bg-white backdrop-blur-xl flex flex-col items-center rounded-xl",children:[e.jsx("button",{className:`relative px-1 py-2 ${u==="RGB"?"text-greatBlue":"text-black"}`,onClick:()=>{X("RGB"),H(!1)},children:"RGB"}),e.jsx("button",{className:`relative px-1 py-2 ${u==="HEX"?"text-greatBlue":"text-black"}`,onClick:()=>{X("HEX"),H(!1)},children:"HEX"})]}),e.jsx("span",{className:"bg-white before:content-[''] origin-center rotate-45 h-[10px] w-[10px] absolute top-[3.3rem] z-50"})]}),_=e.jsx("div",{className:"flex flex-row justify-center w-[200px]",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,ref:N,onBlur:t=>{const n=new U(`${t.target.textContent}`).convertToRGB();if(!n)return t.target.textContent;w(n),$(`${t.target.textContent}`)},className:"w-20 h-full bg-transparent px-1 flex items-center justify-center bg-white rounded-md",children:Q}),e.jsx("span",{children:"HEX"})]})}),ee=e.jsxs("div",{className:"flex flex-row gap-3 w-[200px]",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,ref:N,onBlur:t=>{j(Number(t.currentTarget.textContent)),w(`${t.currentTarget.textContent}, ${f}, ${h}`)},className:"w-14 h-full bg-transparent px-1 flex items-center justify-center bg-white rounded-md",children:x}),e.jsx("span",{children:"R"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,ref:N,onBlur:t=>{C(Number(t.currentTarget.textContent)),w(`${x}, ${t.currentTarget.textContent}, ${h}`)},className:"w-14 h-full bg-transparent px-1 flex items-center justify-center bg-white rounded-md",children:f}),e.jsx("span",{children:"G"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,ref:N,onBlur:t=>{y(Number(t.currentTarget.textContent)),w(`${x}, ${f}, ${t.currentTarget.textContent}`)},className:"w-14 h-full bg-transparent px-1 flex items-center justify-center bg-white rounded-md",children:h}),e.jsx("span",{children:"B"})]})]});return s.useEffect(()=>{const t=document.getElementById("current");t&&u==="RGB"?(t.style.backgroundColor=`rgb(${x},${f},${h})`,$(`rgb(${x},${f},${h})`)):t&&u==="HEX"&&(t.style.backgroundColor=`rgb(${x},${f},${h})`)},[x,f,h,M,W]),re.createPortal(e.jsxs("div",{className:"fixed z-40 overflow-y-auto top-0 w-full h-full",children:[e.jsxs("div",{className:"flex items-center justify-center min-height-100vh pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity",children:e.jsx("div",{className:"absolute inset-0",onClick:d})}),e.jsx("span",{className:"h-full md:h-screen lg:h-screen xl:h-screen 2xl:h-screen"})]}),e.jsxs("div",{className:"inline-block relative p-5 m-2 align-center backdrop-filter backdrop-blur-lg bg-white/60 border-[1.5px] border-white rounded-lg text-left overflow-hidden shadow-xl transform-gpu transition-all max-w-lg w-full sm:w-[25rem] md:w-[25rem] lg:w-[25rem] xl:w-[25rem] 2xl:w-[25rem]",children:[e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsx("p",{className:"mb-3 text-xl font-bold text-black",children:"Choose a color"}),e.jsx("button",{className:"flex flex-row justify-center items-center w-6 h-6 rounded-full bg-white dark:bg-white",onClick:d,children:e.jsx("i",{className:"fa-sharp fa-regular fa-xmark "})})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"w-full sm:w-96 md:w-96 lg:w-96 xl:w-96 2xl:w-96",children:[e.jsxs("div",{className:"grid grid-cols-10",children:[e.jsx("div",{className:"col-span-9",children:e.jsx("div",{className:"relative w-full h-full cursor-pointer",style:{borderRadius:"3px",backgroundImage:"linear-gradient(rgb(0, 0, 0, 0), #000), linear-gradient(to right, #fff, rgb(255, 0, 0, 0))",backgroundColor:"rgb(255, 0, 0)"},onClick:L,ref:E,children:e.jsx("div",{className:"pin active",ref:v})})}),e.jsx("div",{className:"col-span-1 flex justify-end",children:e.jsx("div",{className:"fill-color-hue relative w-full flex justify-center cursor-pointer",onClick:O,ref:A,children:e.jsx("div",{className:"pin active",ref:G})})})]}),e.jsx("div",{className:"relative mt-3 w-full rounded-md h-12 flex justify-between items-center ",children:e.jsxs("div",{className:"flex flex-row h-full w-full gap-2 items-center justify-between",children:[e.jsx("div",{id:"current",className:"w-16 h-full rounded-md"}),e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsxs("button",{className:"h-full bg-white rounded-lg px-2",onClick:()=>H(!Y),children:[u," ",e.jsx("i",{className:"fa-solid fa-angle-down"})]}),Y&&Z]}),u==="HEX"?_:ee]})})]})}),e.jsx("div",{className:"flex justify-center gap-5 my-4 ",children:["#4b21ee","#6491fc","#79efbc","#56BDD1","#ff9900","#4EEBEB","#f1412d"].map(t=>e.jsx("div",{className:"w-8 h-8 rounded cursor-pointer",id:t,style:{backgroundColor:t},onClick:o=>{const l=new U(o.currentTarget.id).convertToRGB();if(!l)return o.currentTarget.id;w(l),u==="HEX"&&$(t)}},t))}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"h-10 w-fit px-5 text-white bg-gradient-to-br from-lightPurple to-cyanBlue hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-white dark:focus:ring-greatblue font-medium rounded-full text-xs sm:text-sm md:text-sm lg:text-sm xl:text-sm 2xl:text-sm text-center",onClick:()=>{T(K?I:[...J,I]),d()},children:"Choose"})})]})]}),S)};export{ce as default};
